@page "/appointments/create"
@using System.ComponentModel.DataAnnotations 
@inject HttpClient httpClient

<h3>Create Appointment</h3>

<EditForm Model="@appointment" OnInvalidSubmit="CreateNewAppointment">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <input class="form-control form-control-lg" type="text" placeholder="Appointment Name" @bind-value="appointment.Title" />
    <input class="form-control form-control-lg" type="datetime" placeholder="Start DateTime" @bind-value="appointment.StartTime" />
    <input class="form-control form-control-lg" type="datetime" placeholder="Finish DateTime" @bind-value="appointment.FinishTime" />
    <input class="form-control form-control-lg" type="number" placeholder="EmployeeId" @bind-value="appointment.EmployeeId" />
    <input class="form-control form-control-lg" type="number" placeholder="VisitorId" @bind-value="appointment.VisitorId" />

    <button type="submit" class="btn btn-primary">Create</button>

</EditForm>


@code {

    public class Appointment
    {
        [Required]
        public string Title { get; set; }
        [Required]
        public DateTime StartTime { get; set; }
        [Required]
        public DateTime FinishTime { get; set; }
        [Required]
        public int EmployeeId { get; set; }
        [Required]
        public int VisitorId { get; set; }
    }

    string url = "https://localhost:44312/api/appointments";

    Appointment appointment = new Appointment();


    protected void CreateNewAppointment()
    {
        Console.WriteLine(appointment);
        //HttpContent content = new StringContent(appointment, Encoding.UTF8, "application/json");
        //await httpClient.PostAsync(url, content);
    }
}
